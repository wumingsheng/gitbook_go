# 05 | 程序实体的那些事儿（中）

![](https://static001.geekbang.org/resource/image/d5/a4/d52c3051e15ca504a5717f6703c49ea4.jpg)

## 如果一个变量与其外层代码块中的变量重名会出现什么状况？




同一个变量可以被多次声明重新赋值

1. 不能在同一个作用域，在不同的作用域可以对变量进行重定义
2. 取值是从当前作用域一层一层向上查找


```go
package main

var name string = "woms"

func main() {

	name := "wms"

	{
		name := "wumingsheng"
		println(name)

		{
			name := "wu"
			println(name)
		}
	}

	println(name)

}

```


对于不同的代码块来说，其中的变量重名没什么大不了，照样可以通过编译。即使这些代码块有直接的嵌套关系也是如此，这样规定显然很方便也很合理，否则我们会每天为了选择变量名而烦恼。但是这会导致另外一个问题，我引用变量时到底用的是哪一个？

1. 首先，代码引用变量的时候总会最优先查找当前代码块中的那个变量。注意，这里的“当前代码块”仅仅是引用变量的代码所在的那个代码块，并不包含任何子代码块。
2. 其次，如果当前代码块中没有声明以此为名的变量，那么程序会沿着代码块的嵌套关系，从直接包含当前代码块的那个代码块开始，一层一层地查找。
3. 一般情况下，程序会一直查到当前代码包代表的代码块。如果仍然找不到，那么 Go 语言的编译器就会报错了。


